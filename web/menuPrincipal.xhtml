<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:p="http://primefaces.org/ui">

    <h:head>
        <title>Menu Principal</title>
        <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" charset="UTF-8"/>
        <link rel="shortcut icon" href="#{facesContext.externalContext.requestContextPath}/imagens/favicon.ico"/>  
        <style type="text/css">
            .ui-widget-content .ui-inputfield{ padding: 8px!important;} 
            .ui-button { padding: 3px!important; }
            .ui-selectonemenu-label .ui-inputfield{}
        </style>
    </h:head>
    <h:body>
        <!-- INICIA DIV wrap e main -->
        <div id="wrapx">
            <div id="mainx">
                <!-- INICIA DIV wrap e main -->  
                <f:subview id="header">
                    <ui:include src="templates/templatePrime.xhtml"/>
                </f:subview>
                <f:view>
                    <h:form id="formMenuPrincipal">
                        <p:panel style="border: 0px; width: 1024px; margin: 0 auto">
                            <p:menubar>  
                                <p:submenu label="Departamento" icon="ui-icon-document" style="margin-right: 15px">
                                    <p:menuitem value="Administração"                action="#{chamadaPaginaBean.menuAdministrativo()}" rendered="#{!controleAcessoBean.view('menuAdministrativo')}"/>
                                    <p:menuitem value="Coordenação"             action="#{chamadaPaginaBean.menuCoordenacao()}" rendered="#{!controleAcessoBean.view('menuCoordenacao')}"/>
                                    <p:menuitem value="Equipe Técnica"          action="#{chamadaPaginaBean.menuEquipeTecnica()}" rendered="#{!controleAcessoBean.view('menuEquipeTecnica')}"/>                                    
                                    <p:menuitem value="Financeiro"              action="#{chamadaPaginaBean.menuFinanceiro()}" rendered="#{!controleAcessoBean.view('menuFinanceiro')}"/>
                                </p:submenu>
                                <p:submenu label="Segurança" icon="ui-icon-document" style="margin-right: 15px">
                                    <p:menuitem value="Configurações" action="#{chamadaPaginaBean.pagina('registro')}" actionListener="#{registroBean.limparModulo()}" rendered="#{!controleAcessoBean.view('registro')}"/>
                                    <p:menuitem value="Filial"     action="#{chamadaPaginaBean.pagina('filial')}" rendered="#{!controleAcessoBean.view('filial')}"/>
                                    <p:menuitem value="Registro Computador" action="#{chamadaPaginaBean.pagina('macFilial')}" actionListener="#{registroBean.limparModulo()}" rendered="#{!controleAcessoBean.view('macFilial')}"/>
                                    <p:menuitem value="Usuários" action="#{chamadaPaginaBean.pagina('usuario')}" rendered="#{!controleAcessoBean.view('usuario')}"/>  
                                    <p:submenu label="Permissão" icon="ui-icon-contact">  
                                        <p:menuitem value="Perm. Departamento"      action="#{chamadaPaginaBean.permissaoDepartamento}" rendered="#{!controleAcessoBean.view('permissaoDepartamento')}"/>
                                        <p:menuitem value="Módulo/Rotina"           action="#{chamadaPaginaBean.permissao}" rendered="#{segurancaUtilitariosBean.sessaoUsuario.id == 1}"/>
                                        <p:menuitem value="Cadastro Simples"        action="#{chamadaPaginaBean.simples}" rendered="#{!controleAcessoBean.view('simples')}"/>
                                        <p:menuitem value="Rotina"                  action="#{chamadaPaginaBean.rotina}" rendered="#{segurancaUtilitariosBean.sessaoUsuario.id == 1}" />
                                        <p:menuitem value="Níveis"                  action="#{chamadaPaginaBean.nivel}" rendered="#{segurancaUtilitariosBean.sessaoUsuario.id == 1}"/>
                                        <p:menuitem value="Filial Departamento"     action="#{chamadaPaginaBean.pagina('filialDepartamento')}" rendered="#{!controleAcessoBean.view('filialDepartamento')}" />
                                    </p:submenu>  
                                    <p:submenu label="Configurações">  
                                        <p:menuitem value="Coordenação"         action="#{chamadaPaginaBean.pagina('configuracaoCoordenacao')}" />
                                        <p:menuitem value="Financeiro"          action="#{chamadaPaginaBean.pagina('configuracaoFinanceiro')}" />
                                    </p:submenu>
                                    <p:separator />  
                                    <p:menuitem value="Pesquisar Logs"              action="#{chamadaPaginaBean.pagina('pesquisaLog')}" title="Registro de atividades" rendered="#{!controleAcessoBean.view('pesquisaLog')}"/>
                                    <p:submenu label="Sistema">
                                        <p:menuitem value="Cliente"       action="#{chamadaPaginaBean.pagina('cliente')}" rendered="#{controleUsuarioBean.clienteString eq 'ClinicaIntegrada'}"/>
                                        <p:menuitem value="Relatórios"    action="#{chamadaPaginaBean.pagina('relatorio')}" rendered="#{!controleAcessoBean.view('relatorio')}" />
                                    </p:submenu>
                                    <p:menuitem value="Sair do Sistema" action="#{usuarioBean.sairSistema}" /> 
                                </p:submenu>                                 
                                <p:submenu label="Ferramentas" icon="ui-icon-document" style="margin-right: 15px">  
                                    <p:submenu label="Pessoa" icon="ui-icon-contact">
                                        <p:menuitem value="Física"                action="#{chamadaPaginaBean.pagina('pessoaFisica', 'fisicaBean')}" rendered="#{!controleAcessoBean.view('pessoaFisica')}"/>
                                        <p:menuitem value="Juridica"              action="#{chamadaPaginaBean.pagina('pessoaJuridica', 'juridicaBean')}" rendered="#{!controleAcessoBean.view('pessoaJuridica')}"/>
                                        <p:menuitem value="Cnae"                  action="#{chamadaPaginaBean.pagina('cnae')}" rendered="#{!controleAcessoBean.view('cnae')}"/>
                                        <p:menuitem value="Profissão"             action="#{chamadaPaginaBean.pagina('profissao')}" rendered="#{!controleAcessoBean.view('profissao')}"/>
                                        <p:menuitem value="Filial"                action="#{chamadaPaginaBean.pagina('filial')}" rendered="#{!controleAcessoBean.view('filial')}"/>
                                        <p:submenu label="Suporte">
                                            <p:menuitem value="Nacionalidade"         action="#{chamadaPaginaBean.paginaSimples('Nacionalidade', 'Nacionalidade')}" rendered="#{!controleAcessoBean.view('nacionalidade')}"/>
                                            <p:menuitem value="Parentesco"            action="#{chamadaPaginaBean.pagina('parentesco')}" rendered="#{!controleAcessoBean.view('parentesco')}"/>
                                        </p:submenu>
                                    </p:submenu>                                       
                                    <p:submenu label="Endereço" icon="ui-icon-contact" style="margin-right: 15px">
                                        <p:menuitem value="Endereço"      action="#{chamadaPaginaBean.pagina('endereco')}" rendered="#{!controleAcessoBean.view('endereco')}"/>
                                        <p:menuitem value="Bairro"        action="#{chamadaPaginaBean.bairro}" rendered="#{!controleAcessoBean.view('bairro')}"/>
                                        <p:menuitem value="Cidade"        action="#{chamadaPaginaBean.pagina('cidade')}" rendered="#{!controleAcessoBean.view('cidade')}"/>
                                        <p:menuitem value="Logradouro"    action="#{chamadaPaginaBean.logradouro}" rendered="#{!controleAcessoBean.view('logradouro')}"/>
                                        <p:menuitem value="Descrição"     action="#{chamadaPaginaBean.descricaoEndereco}" rendered="#{!controleAcessoBean.view('descricaoEndereco')}"/>
                                        <p:menuitem value="Tipo Endereço" action="#{chamadaPaginaBean.tipoEndereco}" rendered="#{!controleAcessoBean.view('tipoEndereco')}"/>
                                    </p:submenu>
                                    <p:submenu label="Agenda" icon="ui-icon-document">  
                                        <p:menuitem value="Agenda Telefônica"            action="#{chamadaPaginaBean.pagina('agendaTelefone')}" actionListener="#{agendaTelefoneBean.putType('agendaTelefone')}" title="Cadastro" rendered="#{!controleAcessoBean.view('agendaTelefone')}"/>
                                        <p:menuitem value="Grupo Agenda"                 action="#{chamadaPaginaBean.simples('GrupoAgenda', 'Grupo Agenda')}" rendered="#{!controleAcessoBean.view('grupoAgenda')}"/>
                                        <p:menuitem value="Grupo Usuário"     action="#{chamadaPaginaBean.pagina('agendaGrupoUsuario')}" rendered="#{!controleAcessoBean.view('agendaGrupoUsuario')}"/>
                                    </p:submenu>
                                    <p:menuitem icon="ui-icon ui-icon-mail-closed" value="Email" action="#{chamadaPaginaBean.pagina('email')}" />
                                </p:submenu>
                                <p:submenu label="Relatórios">
                                    <p:menuitem value="Pessoa Física"           action="#{chamadaPaginaBean.pagina('relatorioPessoaFisica', 'relatorioFisicaBean')}" />
                                    <p:menuitem value="Pessoa Funcionários"     action="#{chamadaPaginaBean.pagina('relatorioFuncionario', 'relatorioFuncionarioBean')}" />
                                </p:submenu>
                            </p:menubar> 
                        </p:panel>
                        <p:panel style="border: 0px; width: 1024px; height: 550px; margin: 0 auto">
                            <p:panel style="float: left; text-align: center; background: #f6f6f6; clear: both; position: absolute; margin-top: 50px">
                                <center>
                                    <h:panelGrid>
                                        <h:outputText style="font-weight: bold" value="Agenda Telefônica" />
                                    </h:panelGrid>
                                </center>
                                <p:commandLink action="#{chamadaPaginaBean.pagina('pesquisaAgendaTelefone','agendaTelefone')}" title="Pesquisa Agenda Telefônica" style="clear: both" actionListener="#{agendaTelefoneBean.putType('pesquisaAgendaTelefone')}">
                                    <h:graphicImage value="/imagens/-icone-agenda-telefone.jpg" width="120" /><br />
                                </p:commandLink>
                                <h:column rendered="#{agendaNotificaoBean.listAniversariantes.size() > 0}">
                                    <p:commandLink onclick="PF('dlg_agenda_contato').show();">
                                        Aniversariantes do mês
                                        <h:graphicImage value="/imagens/icon-birthday.png" width="16" /><br />
                                    </p:commandLink>
                                </h:column>
                            </p:panel>
                            <p:dialog widgetVar="dlg_agenda_contato" modal="true" footer="Felicite esta pessoa" width="600" height="400" resizable="false">
                                <f:facet name="header">
                                    <h:panelGrid columns="2">
                                        <h:graphicImage value="/imagens/icon-birthday.png" width="16" />
                                        <h:column>Aniversariantes</h:column>
                                    </h:panelGrid>
                                </f:facet>
                                <p:dataTable var="agendaContato" value="#{agendaNotificaoBean.listAniversariantes}" paginator="true" rows="15">
                                    <p:column headerText="Principal" width="80">
                                        #{agendaContato.agenda.nome}
                                    </p:column>
                                    <p:column headerText="Data" width="80">
                                        <h:outputLabel value="#{agendaContato.nascimentoString}" />
                                    </p:column>
                                    <p:column headerText="Aniversariante">
                                        #{agendaContato.contato}
                                    </p:column>
                                    <p:column headerText="Depto">
                                        #{agendaContato.departamento}
                                    </p:column>
                                    <p:column headerText="Email">
                                        <p:outputLabel value="#{agendaContato.email1}" title="#{agendaContato.email2}" />
                                    </p:column>
                                </p:dataTable>                                
                            </p:dialog>
                        </p:panel>
                    </h:form>
                </f:view>

                <!-- FINALIZA div wrap main -->
            </div>
        </div>
        <!-- FINALIZA div wrap main -->
        <div id="footerx">
            <f:subview id="footer">
                <ui:include src="templates/templateFooter.xhtml"/>
            </f:subview>
        </div>
    </h:body>
</html>
